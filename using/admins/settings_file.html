

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Settings (eventmq.conf) &mdash; EventMQ 0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="EventMQ 0 documentation" href="../../index.html"/>
        <link rel="up" title="System Administrator Guide" href="index.html"/>
        <link rel="next" title="Developer Guide" href="../devs/index.html"/>
        <link rel="prev" title="System Administrator Guide" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> EventMQ
          

          
          </a>

          
            
            
              <div class="version">
                0.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Using EventMQ</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">System Administrator Guide</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Settings (eventmq.conf)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global">Global</a></li>
<li class="toctree-l4"><a class="reference internal" href="#router">Router</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scheduler">Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#job-manager">Job Manager</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../devs/index.html">Developer Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to EventMQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog_link.html">CHANGELOG</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">EventMQ</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Using EventMQ</a> &raquo;</li>
      
          <li><a href="index.html">System Administrator Guide</a> &raquo;</li>
      
    <li>Settings (eventmq.conf)</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/using/admins/settings_file.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="settings-eventmq-conf">
<h1>Settings (eventmq.conf)<a class="headerlink" href="#settings-eventmq-conf" title="Permalink to this headline">¶</a></h1>
<p>EventMQ uses a standard INI style config file found at <code class="docutils literal"><span class="pre">/etc/eventmq.conf</span></code>.</p>
<div class="section" id="global">
<h2>Global<a class="headerlink" href="#global" title="Permalink to this headline">¶</a></h2>
<div class="section" id="name">
<h3>name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p>Default: &lt;random uuid&gt;</p>
<p>A unique name to give the node.</p>
</div>
<div class="section" id="super-debug">
<h3>super_debug<a class="headerlink" href="#super-debug" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>When super debug is enabled it will print almost all message recieved and sent
(the exception is heartbeat message which is controlled by
<a class="reference internal" href="#hide-heartbeat-logs">hide_heartbeat_logs</a>). This is extremley verbose but very useful for debugging
communication errors. If you enables this setting make sure to enable some type
of log rotation to keep your disk usage reasonable.</p>
</div>
<div class="section" id="hide-heartbeat-logs">
<h3>hide_heartbeat_logs<a class="headerlink" href="#hide-heartbeat-logs" title="Permalink to this headline">¶</a></h3>
<p>Default: True</p>
<p>By default the heartbeat message are hidden when <a class="reference internal" href="#super-debug">super_debug</a> is enabled. If you
want to also want to see heartbeats and their replies set this to False. This is
useful when debugging connection issues.</p>
</div>
<div class="section" id="default-queue-name">
<h3>default_queue_name<a class="headerlink" href="#default-queue-name" title="Permalink to this headline">¶</a></h3>
<p>Default: default</p>
<p>The name of the default queue. When jobs don&#8217;t specify the queue they should run
in this value is used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended that you have some workers listening for jobs on your
default queue so that anything that is not explicitly assigned will still be
executed.</p>
</div>
</div>
<div class="section" id="disable-heartbeats">
<h3>disable_heartbeats<a class="headerlink" href="#disable-heartbeats" title="Permalink to this headline">¶</a></h3>
<p>Default: False</p>
<p>Setting this to True will disable heartbeat checks all together. Heartbeats are
used to check the aliveness of peers. By disabling heartbeats you run the risk
of sending messages to peers who aren&#8217;t in a state of accepting them.</p>
</div>
<div class="section" id="heartbeat-liveness">
<h3>heartbeat_liveness<a class="headerlink" href="#heartbeat-liveness" title="Permalink to this headline">¶</a></h3>
<p>Default: 3</p>
<p>A node will assume it&#8217;s peer is dead after this many missed heartbeat messages.</p>
</div>
<div class="section" id="heartbeat-timeout">
<h3>heartbeat_timeout<a class="headerlink" href="#heartbeat-timeout" title="Permalink to this headline">¶</a></h3>
<p>Default: 5</p>
<p>Mark the heartbeat as missed after this many seconds. By multiplying this value
with <a class="reference internal" href="#heartbeat-liveness">heartbeat_liveness</a> you get the number of total seconds it takes for a node
to mark the peer as dead</p>
</div>
<div class="section" id="heartbeat-interval">
<h3>heartbeat_interval<a class="headerlink" href="#heartbeat-interval" title="Permalink to this headline">¶</a></h3>
<p>Default: 3</p>
<p>The number of seconds to wait between sending each heartbeat. It is important
that this number is less than <a class="reference internal" href="#heartbeat-timeout">heartbeat_timeout</a> otherwise you will end up with
peers being marked as dead when they&#8217;re not.</p>
</div>
<div class="section" id="config-file">
<h3>config_file<a class="headerlink" href="#config-file" title="Permalink to this headline">¶</a></h3>
<p>Default: /etc/eventmq.conf</p>
<p>The location of the config file to read settings from.</p>
</div>
</div>
<div class="section" id="router">
<h2>Router<a class="headerlink" href="#router" title="Permalink to this headline">¶</a></h2>
<div class="section" id="frontend-listen-addr">
<span id="router-frontend-listen-addr"></span><h3>frontend_listen_addr<a class="headerlink" href="#frontend-listen-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47291">tcp://127.0.0.1:47291</a></p>
<p>The address the router should listen on for client and scheduler connections.</p>
</div>
<div class="section" id="backend-listen-addr">
<span id="router-backend-listen-addr"></span><h3>backend_listen_addr<a class="headerlink" href="#backend-listen-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47290">tcp://127.0.0.1:47290</a></p>
<p>The address the router should listen on for job manager connections.</p>
</div>
<div class="section" id="administrative-listen-addr">
<span id="router-administrative-listen-addr"></span><h3>administrative_listen_addr<a class="headerlink" href="#administrative-listen-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:37293">tcp://127.0.0.1:37293</a></p>
<p>The address the router should listen on for administrative commands.</p>
</div>
<div class="section" id="hwm">
<h3>hwm<a class="headerlink" href="#hwm" title="Permalink to this headline">¶</a></h3>
<p>Default: 10000</p>
<p>Hard limit of messages to store in memory before dropping them. When there are
no availabe slots the router will start buffering messages internally. Take into
account the amount of memory you have on the system and the average size of your
message when defining this value.</p>
</div>
</div>
<div class="section" id="scheduler">
<h2>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="job-manager">
<h2>Job Manager<a class="headerlink" href="#job-manager" title="Permalink to this headline">¶</a></h2>
<div class="section" id="connect-addr">
<span id="jobmanager-connect-addr"></span><h3>connect_addr<a class="headerlink" href="#connect-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47290">tcp://127.0.0.1:47290</a></p>
<p>The address of the router&#8217;s <a class="reference internal" href="#router-backend-listen-addr"><span class="std std-ref">backend_listen_addr</span></a> to connect to.</p>
</div>
<div class="section" id="queues">
<span id="jobmanager-queues"></span><h3>queues<a class="headerlink" href="#queues" title="Permalink to this headline">¶</a></h3>
<p>Default: [[10, &#8220;default&#8221;]]</p>
<p>Comma seperated list of queues to process jobs for with thier weights. This list
must be valid JSON otherwise an error will be thrown.
Example: <code class="docutils literal"><span class="pre">queues=[[10,</span> <span class="pre">&quot;data_process&quot;],</span> <span class="pre">[15,</span> <span class="pre">&quot;email&quot;]]</span></code>.  With these
weights and the <code class="docutils literal"><span class="pre">CONCURRENT_JOBS</span></code> setting, you should be able to tune managers
running jobs locally efficiently. If you have a larger server with a weight of
50 on q1 and 8 concurrent jobs and a smaller server with a weight 30 and 4
concurrent jobs, the q1 jobs will be sent to the large box until it is no longer
accepting jobs. At this point jobs will start to be sent to the next highest
number until the large box is ready to accept another q1 job.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When defining queues on the command line the format is <code class="docutils literal"><span class="pre">weight,queuename</span>
<span class="pre">weight,queuename</span></code>. For example: <code class="docutils literal"><span class="pre">-Q</span> <span class="pre">10,default</span> <span class="pre">15,high</span></code></p>
</div>
</div>
<div class="section" id="concurrent-jobs">
<h3>concurrent_jobs<a class="headerlink" href="#concurrent-jobs" title="Permalink to this headline">¶</a></h3>
<p>Default: 4</p>
<p>This is the number of concurrent jobs the indiviudal job manager should execute
at a time. If you are using the multiprocess or threading model this number
becomes important as you will want to control the load on your server. If the
load equals the number of cores on the server, processes will begin waiting for
cpu cycles and things will begin to slow down.</p>
<p>A safe number to choose if your jobs block a lot would be (2 * cores). If your
jobs are cpu intensive you will want to set this number to the number of cores
you have or (cores - 1) to leave cycles for the os and other processes. This is
something that will have to be tuned based on the jobs that are
running. Grouping similar jobs in named queues will help you tune this number.</p>
<div class="section" id="id1">
<h4>Scheduler<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="scheduler-connect-addr">
<span id="id2"></span><h3>connect_addr<a class="headerlink" href="#scheduler-connect-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47291">tcp://127.0.0.1:47291</a></p>
<p>The address of the router&#8217;s <a class="reference internal" href="#router-frontend-listen-addr"><span class="std std-ref">frontend_listen_addr</span></a> to connect to.</p>
</div>
<div class="section" id="scheduler-queues">
<span id="id3"></span><h3>queues<a class="headerlink" href="#scheduler-queues" title="Permalink to this headline">¶</a></h3>
<p>Default: [[10, &#8220;default&#8221;]]</p>
<p>Comma seperated list of queues to process jobs for with thier weights. This list
must be valid JSON otherwise an error will be thrown.
Example: <code class="docutils literal"><span class="pre">queues=[[10,</span> <span class="pre">&quot;data_process&quot;],</span> <span class="pre">[15,</span> <span class="pre">&quot;email&quot;]]</span></code>.  With these
weights and the <code class="docutils literal"><span class="pre">CONCURRENT_JOBS</span></code> setting, you should be able to tune managers
running jobs locally efficiently. If you have a larger server with a weight of
50 on q1 and 8 concurrent jobs and a smaller server with a weight 30 and 4
concurrent jobs, the q1 jobs will be sent to the large box until it is no longer
accepting jobs. At this point jobs will start to be sent to the next highest
number until the large box is ready to accept another q1 job.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When defining queues on the command line the format is <code class="docutils literal"><span class="pre">weight,queuename</span>
<span class="pre">weight,queuename</span></code>. For example: <code class="docutils literal"><span class="pre">-Q</span> <span class="pre">10,default</span> <span class="pre">15,high</span></code></p>
</div>
</div>
<div class="section" id="redis-host">
<h3>redis_host<a class="headerlink" href="#redis-host" title="Permalink to this headline">¶</a></h3>
<p>Default: localhost</p>
<p>Hostname for the Redis server. The scheduler uses redis to persist scheduled
jobs.</p>
</div>
<div class="section" id="redis-port">
<h3>redis_port<a class="headerlink" href="#redis-port" title="Permalink to this headline">¶</a></h3>
<p>Default: 6379</p>
<p>Port for the Redis server</p>
</div>
<div class="section" id="redis-db">
<h3>redis_db<a class="headerlink" href="#redis-db" title="Permalink to this headline">¶</a></h3>
<p>Default: 0</p>
<p>Redis database to store schedules</p>
</div>
<div class="section" id="redis-password">
<h3>redis_password<a class="headerlink" href="#redis-password" title="Permalink to this headline">¶</a></h3>
<p>Default: &lt;empty string&gt;</p>
<p>Password to the Redis server</p>
<div class="section" id="publisher">
<h4>Publisher<a class="headerlink" href="#publisher" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="publisher-frontend-listen-addr">
<span id="id4"></span><h3>frontend_listen_addr<a class="headerlink" href="#publisher-frontend-listen-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47298">tcp://127.0.0.1:47298</a></p>
<p>The address the publisher should listen on for client connections.</p>
</div>
<div class="section" id="publisher-backend-listen-addr">
<span id="id5"></span><h3>backend_listen_addr<a class="headerlink" href="#publisher-backend-listen-addr" title="Permalink to this headline">¶</a></h3>
<p>Default: <a class="reference external" href="tcp://127.0.0.1:47299">tcp://127.0.0.1:47299</a></p>
<p>The address the publisher should listen on for subscribers.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../devs/index.html" class="btn btn-neutral float-right" title="Developer Guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="System Administrator Guide" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, EventMQ Contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>